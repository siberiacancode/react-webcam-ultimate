---
import { getCollection } from 'astro:content';
import { Image } from 'astro:assets';

import Layout from '@/layouts/Layout.astro';
import { Card, CardHeader, CardTitle } from '@/components/ui/card';
import { Separator } from '@/components/ui/separator';

import react from '@/assets/images/react-original.svg';
import javascript from '@/assets/images/javascript-original.svg';

interface Props {
  translation: any;
}

export const getStaticPaths = async () => {
  const translations = await getCollection('home');

  const paths = translations.map((translation) => ({
    params: {
      lang: translation.id,
      slug: `/${translation.id}/${translation.collection.replaceAll('-', '/')}`
    },
    props: { translation }
  }));

  return paths;
};

const { translation } = Astro.props;
---

<Layout title='Webcam samples' framework='javascript' language={translation.id}>
  <section class='w-full py-12'>
    <div class='grid gap-6 md:gap-8'>
      <div class='flex flex-col items-start gap-4 md:flex-row md:items-center md:gap-8'>
        <div class='flex flex-col gap-1'>
          <h1 class='text-3xl font-bold tracking-tight'>Webcam samples</h1>
          <p class='text-gray-500 dark:text-gray-400'>
            This is a collection of small samples demonstrating various parts of the WebRTC APIs.
            The code for all samples are available in the GitHub repository.
          </p>
          <Separator className='my-4' />
        </div>
      </div>

      <div class='grid gap-8 md:grid-cols-2 lg:grid-cols-4'>
        <a href='/javascript'>
          <Card className='transition-transform duration-300 hover:translate-y-[-5px]'>
            <CardHeader className='flex flex-row items-center gap-3'>
              <Image src={javascript} class='rounded' alt='javascript' width='40' height='40' />
              <CardTitle>javascript</CardTitle>
            </CardHeader>
          </Card>
        </a>
        <a href='/react'>
          <Card className='transition-transform duration-300 hover:translate-y-[-5px]'>
            <CardHeader className='flex flex-row items-center gap-3'>
              <Image src={react} alt='react' width='40' height='40' />
              <CardTitle>react</CardTitle>
            </CardHeader>
          </Card>
        </a>
      </div>
    </div>
  </section>
</Layout>
